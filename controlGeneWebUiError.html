<!DOCTYPE html>
<html>
  <meta charset="utf-8"/>
  <body>
    <script src="/webui.js"></script>
    <div id="monDiv">  There is an error, wait ... </div>
  </body>
  <script>
    
    function getErrorJS (e) {
	if (e == webui.event.CONNECTED) {
	    let elt = document.getElementById("monDiv");
	    elt.innerHTML += " que je voudrais changer pour : 'response'";
	    webui.call('getError',"").then((response)=> {
		/*  PROCCESSING THE RETURN OF THE PYTHON FUNCTION */
		console.log(response)
		elt.innerHTML = response;	   // SHOW ON SCREEN
	    }).catch(
		(e) => {
		    console.error("getErrorJS", e);
		    elt.innerHTML += " but an exception occured" ;
		}
	    )
	}
    }
    
    // wait Until WebSocket Connected
    document.addEventListener("DOMContentLoaded",()=>{webui.setEventCallback(getErrorJS)})
    
  </script>
</html>
